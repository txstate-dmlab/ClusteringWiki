$().ready(function(){$("#settgingsForm").validate({rules:{topKQueryUrls:{required:true,maxlength:3},maxClusteringIterations:{required:true,maxlength:3},similarityCalculator:{required:true},termSimQueryResultsLimit:{required:true},termSimThreshold:{required:true},resultSimThreshold:{required:true}},messages:{}});onEnter("topKQueryUrls","save");onEnter("maxClusteringIterations","save")});function save(){if(!$("#settgingsForm").valid()){return}$("#saveResponse").removeClass("error").removeClass("success").html('Please wait...<img src="includes/images/loading.gif">');var g=$("#timingEnabled").is(":checked")?"true":"false";var c=$("#topKQueryUrls").val();var d=$("#maxClusteringIterations").val();var f=$("#similarityCalculator").val();var b=$("#termSimQueryResultsLimit").val();var a=$("#termSimThreshold").val();var e=$("#resultSimThreshold").val();$.ajax({url:"admin.html?applAction=saveSettings",type:"post",async:true,data:"timingEnabled="+g+"&topKQueryUrls="+c+"&maxClusteringIterations="+d+"&similarityCalculator="+f+"&termSimQueryResultsLimit="+b+"&termSimThreshold="+a+"&resultSimThreshold="+e,dataType:"json",success:function(i){if(typeof i=="object"&&i.success==true){$("#saveResponse").html("Settings saved successfully.");$("#saveResponse").addClass("success")}else{var h=["Invalid server response."];if(typeof i.errors){h=i.errors}$("#saveResponse").html(h.join("<br>"));$("#saveResponse").addClass("error");h=null}g=null;c=null;d=null;f=null;b=null;a=null;e=null},error:function(i,h){$("#saveResponse").html("Server connection error.  Please try again.");$("#saveResponse").addClass("error")}})};